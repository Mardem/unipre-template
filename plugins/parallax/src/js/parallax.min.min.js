function ParallaxRenderer(){this.render=function(c,b,f){if(f.parallaxInit){var g=this.calculateParallaxRatio(c,f.start,f.end);c-=b.offset().top;var d=-Math.floor(g*f.offset),h=this.parsePosition(b.css("background-position"));h.left+="px",h.top=d+"px",b.css("background-position",h.left+" "+h.top)}},this.parseLocation=function(b){return b.trim().replace(/^((url\()+(`|'|"))/,"").replace(/((`|'|")+(\)))$/,"")},this.parsePosition=function(c){var b={left:0,top:0};return c=c.replace(/[^0-9\s]/g,"").trim().split(" ",2),b.left=c[0],b.top=c[1],b},this.clamp=function(c,b,d){return b>c?b:c>d?d:c},this.calculateOffset=function(c,b){if(b.height>=c.height){return 0}var d=b.width()/c.width,f=Math.floor(c.height*d);return f-b.height()},this.calculateParallaxRatio=function(c,b,d){return b=0>b?0:b,c-=b,d-=b,c/d}}!function(b){b.fn.parallaxCore={scrollDefault:[],scrollManual:[],countDefault:0,countManual:0,refreshTimeout:null,renderer:new ParallaxRenderer},b.fn.parallax=function(a){var d=b(this),f=b(this).data("parallaxSettings");if("undefined"==typeof f){var c=new Image,g=b("<div />",{"class":"parallax-preloader",style:"display: none;"});"undefined"==typeof a&&(a={image:null,height:null,billboard:!0,scroll:"default"}),a.parallaxInit=!0,c.onload=function(){g.remove(),a.offset=b.fn.parallaxCore.renderer.calculateOffset(c,d),d.data("parallaxSettings",a),"default"===a.scroll?(b.fn.parallaxCore.scrollDefault.push(d),b.fn.parallaxCore.countDefault++):"manual"===a.scroll&&(b.fn.parallaxCore.scrollManual.push(d),b.fn.parallaxCore.countManual++)},g.appendTo(d),setTimeout(function(){g.show()},1000),null==a.image?c.src=b.fn.parallaxCore.renderer.parseLocation(d.css("background-image")):(d.css({"background-image":"url("+a.image+")","background-size":"100% auto"}),c.src=a.image),null==a.height?a.height=d.height():d.height(a.height),a.start=d.offset().top-b(window).height(),a.end=d.height()+d.offset().top}},b.fn.parallaxScroll=function(a){var c=b(this),d=b(this).data("parallaxSettings");b.isEmptyObject(d)||a>=d.start&&a<=d.end&&b.fn.parallaxCore.renderer.render(a,c,d)},b(document).scroll(function(){for(var a=b(this).scrollTop(),d=null,f=null,c=0;c<b.fn.parallaxCore.countDefault;c++){d=b.fn.parallaxCore.scrollDefault[c],f=b.fn.parallaxCore.scrollDefault[c].data("parallaxSettings"),a>=f.start&&a<=f.end&&b.fn.parallaxCore.renderer.render(a,d,f)}}),b(window).resize(function(){null==b.fn.parallaxCore.refreshTimeout&&(b.fn.parallaxCore.refreshTimeout=setTimeout(function(){for(var a=null,c=null,d=0;d<b.fn.parallaxCore.countDefault;d++){a=b.fn.parallaxCore.scrollDefault[d],c=b.fn.parallaxCore.scrollDefault[d].data("parallaxSettings"),c.start=a.offset().top-b(window).height(),b.fn.parallaxCore.scrollDefault[d].data("parallaxSettings",c)}for(var d=0;d<b.fn.parallaxCore.countManual;d++){a=b.fn.parallaxCore.scrollManual[d],c=b.fn.parallaxCore.scrollManual[d].data("parallaxSettings"),c.start=a.offset().top-b(window).height(),b.fn.parallaxCore.scrollManual[d].data("parallaxSettings",c)}b.fn.parallaxCore.refreshTimeout=null},1000))})}(jQuery);